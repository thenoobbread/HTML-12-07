<!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>	 
	<!-- 上面都是 Materialize Design 的code -->
	  
	  
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 60%;
      }
    </style>
	<!-- 上面都是 Google Geolocation 的code -->
    
	</head>

    <body>
      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      <script type="text/javascript" src="js/materialize.min.js"></script>
	  <!-- 上面都是 Materialize Design 的code -->
	  
    <div id="map"></div>
    <script>
	// Note: This example requires that you consent to location sharing when
	// prompted by your browser. If you see the error "The Geolocation service
	// failed.", it means you probably did not give permission for the browser to
	// locate you.
	
	function initMap() {
	  var map01 = new google.maps.Map(document.getElementById('map'), {   //我把顯示的地圖取名為 map01
		center: {lat: 24.154641, lng: 120.689786},
		zoom: 14
	  });
	  var infoWindow = new google.maps.InfoWindow({map: map01});  //map: 後放地圖的名稱

	  // Try HTML5 geolocation.
	  if (navigator.geolocation) {
		navigator.geolocation.getCurrentPosition(function(position) {
		  var pos = {
			lat: position.coords.latitude,
			lng: position.coords.longitude
		  };

		  infoWindow.setPosition(pos);
		  infoWindow.setContent('你現在在這邊!!!!!');
		  map.setCenter(pos);
		}, function() {
		  handleLocationError(true, infoWindow, map.getCenter());
		});
	  } else {
		// Browser doesn't support Geolocation
		handleLocationError(false, infoWindow, map.getCenter());
	  }  

		  var marker1 = new google.maps.Marker({
		  position: {lat: 24.120977, lng: 120.673408},
		  map: map01,
		  title: '社館大樓'
		  });
		  
		  var marker2 = new google.maps.Marker({
		  position: {lat: 24.120856, lng: 120.674310},
		  map: map01,
		  title: '中興湖'
		  });
		  
		  var marker3 = new google.maps.Marker({
		  position: {lat: 24.123751, lng: 120.675018},
		  map: map01,
		  title: '大門'
		  });
		  
		  var marker4 = new google.maps.Marker({
		  position: {lat: 24.12328, lng: 120.676},
		  map: map01,
		  title: '惠蓀堂'
		  });
		  
	}

	function handleLocationError(browserHasGeolocation, infoWindow, pos) {
	  infoWindow.setPosition(pos);
	  infoWindow.setContent(browserHasGeolocation ?
							'Error: The Geolocation service failed.' :
							'Error: Your browser doesn\'t support geolocation.');
	}
	</script>
	<!-- 上面都是 Google Geolocation 的code -->

      <ul class="collection with-header">
        <li class="collection-header"><h4>中興大學 地點選項</h4></li>
        <li class="collection-item"><div>大門<a href="http://maps.google.com.tw/maps?saddr=pos&daddr=24.123751,120.675018" class="secondary-content"><i class="material-icons">search</i></a></div></li>
        <li class="collection-item"><div>社館大樓<a href="http://maps.google.com.tw/maps?saddr=pos&daddr=24.120977,120.673408" class="secondary-content"><i class="material-icons">search</i></a></div></li>
        <li class="collection-item"><div>惠蓀堂<a href="http://maps.google.com.tw/maps?saddr=pos&daddr=24.12328,120.676" class="secondary-content"><i class="material-icons">search</i></a></div></li>
        <li class="collection-item"><div>中興湖<a href="http://maps.google.com.tw/maps?saddr=pos&daddr=24.120856,120.674310" class="secondary-content"><i class="material-icons">search</i></a></div></li>
      </ul>
            
	
	<script src="https://maps.googleapis.com/maps/api/js?&signed_in=true&callback=initMap"
		async defer>
	</script>
    
	</body>
  </html>